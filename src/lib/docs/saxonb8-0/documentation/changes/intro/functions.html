<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   
      <!--changes/intro/functions
		Generated at 8 June 2004 at 13:52-->
      <title>Saxonica: XSLT and XQuery Processing: Functions and Operators</title>
      <meta name="coverage" content="Worldwide">
      <meta name="copyright" content="Copyright Saxonica Ltd">
      <meta name="title" content="Saxonica: XSLT and XQuery Processing: Functions and Operators">
      <meta name="robots" content="noindex,nofollow">
      <link rel="stylesheet" href="../../saxondocs.css" type="text/css"><script type="text/javascript" language="JavaScript">
            function topage(section, page) {
                parent.frames['menu'].location="../../" + section + "_menu.html";
                parent.frames['content'].location="../../" + section + "/" + page + ".html";
            }
            function tosubpage(section, page, subpage) {
                parent.frames['menu'].location="../../" + section + "_menu.html";
                parent.frames['content'].location="../../" + section + "/" + page + "/" + subpage + ".html";
            }
      </script></head>
   <body class="main">
      <h1>Functions and Operators</h1>
      
      
      <p>The <code>normalize-space()</code> function now returns a zero-length string if the argument is an empty sequence.
      </p>
      
      
      <p>Casting from <code>xs:anyURI</code> to <code>xdt:untypedAtomic</code> is now allowed.
      </p>
      
      
      <p>Integers of unlimited size are now supported when using the <code>xs:integer</code> data type.
         The full range of <code>xs:unsignedLong</code> is now supported.
      </p>
      
      
      <p>Decimal division has been changed. The scale of the result (the number of digits after the
         decimal point) is now the maximum of (18, s1, s2) where s1 is the scale of the first operand and
         s2 is the scale of the second. An extension function 
         <a class="bodylink" href="javascript:tosubpage('extensions','functions','decimaldivide')">decimal-divide()</a>
         has been introduced to perform decimal division to a user-specified precision.
      </p>
      
      
      <p>The <code>idiv</code> operator now allows operands of any numeric type.
      </p>
      
      
      <p>A negative year is allowed in values of type <code>xs:dateTime</code>, <code>xs:gYear</code>,
         and <code>xs:gYearMonth</code>. (Negative years were allowed in <code>xs:date</code> in Saxon 7.9.1)
      </p>
      
      
      <p>Division of one duration by another to produce a double is implemented.</p>
      
      
      <p>Some operations on durations are now performed using long arithmetic rather than double arithmetic,
         which improves the precision of the result.
      </p>
      
      
      <p>The <code>eq</code>, <code>gt</code>... family of operators now allow either operand to be an empty
         sequence, in which case the result is an empty sequence.
      </p>
      
      
      <p>The <code>id()</code> function now accepts a second parameter, this is a node that identifies the
         document to be searched to find the required ID value. (The corresponding change to other functions
         such as <code>idref()</code>, <code>lang()</code>, and <code>key()</code> has not yet been made)
      </p>
      
      
      <p>The <code>deep-equals()</code> function now compares attributes using their typed value rather than
         their string value.
      </p>
      
      
      <p>If the fragment identifier included in a URI reference passed to the <code>document()</code> function is not a valid
         NCName, it is now ignored, and the function returns the document node. Previously an empty sequence would
         be returned.
      </p>
      
      
      <table width="100%">
         <tr>
            <td>
               <p align="left"><a href="functions.html" class="nav" target="_blank">Expand</a></p>
            </td>
            <td>
               <p align="right"><a class="nav" href="../intro.html">Up</a>&nbsp;&nbsp;<a class="nav" href="schema.html">Next</a></p>
            </td>
         </tr>
      </table>
   </body>
</html>